!function(){"use strict";!function(){if(!self.fetch){o.prototype.append=function(t,e){t=i(t),e=r(e);var n=this.map[t];n||(n=[],this.map[t]=n),n.push(e)},o.prototype.delete=function(t){delete this.map[i(t)]},o.prototype.get=function(t){var e=this.map[i(t)];return e?e[0]:null},o.prototype.getAll=function(t){return this.map[i(t)]||[]},o.prototype.has=function(t){return this.map.hasOwnProperty(i(t))},o.prototype.set=function(t,e){this.map[i(t)]=[r(e)]},o.prototype.forEach=function(t){var e=this;Object.getOwnPropertyNames(this.map).forEach(function(n){t(n,e.map[n])})};var t={blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self},e=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],n=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent);c.call(u.prototype),c.call(f.prototype),self.Headers=o,self.Request=u,self.Response=f,self.fetch=function(e,i){var r;return r=u.prototype.isPrototypeOf(e)&&!i?e:new u(e,i),new fetch.Promise(function(e,i){var s=function(){return n&&!/^(get|post|head|put|delete|options)$/i.test(this.method)?(this.usingActiveXhr=!0,new ActiveXObject("Microsoft.XMLHTTP")):new XMLHttpRequest}();function a(){if(4===s.readyState){var t=1223===s.status?204:s.status;if(t<100||t>599)i(new TypeError("Network request failed"));else{var n={status:t,statusText:s.statusText,headers:function(t){var e=new o;return t.getAllResponseHeaders().trim().split("\n").forEach(function(t){var n=t.trim().split(":"),i=n.shift().trim(),r=n.join(":").trim();e.append(i,r)}),e}(s),url:"responseURL"in s?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):void 0},r="response"in s?s.response:s.responseText;e(new f(r,n))}}}"cors"===r.credentials&&(s.withCredentials=!0),s.onreadystatechange=a,self.usingActiveXhr||(s.onload=a,s.onerror=function(){i(new TypeError("Network request failed"))}),s.open(r.method,r.url,!0),"responseType"in s&&t.blob&&(s.responseType="blob"),r.headers.forEach(function(t,e){e.forEach(function(e){s.setRequestHeader(t,e)})}),s.send(void 0===r._bodyInit?null:r._bodyInit)})},fetch.Promise=self.Promise,self.fetch.polyfill=!0}function i(t){if("string"!=typeof t&&(t=t.toString()),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function r(t){return"string"!=typeof t&&(t=t.toString()),t}function o(t){this.map={};var e=this;t instanceof o?t.forEach(function(t,n){n.forEach(function(n){e.append(t,n)})}):t&&Object.getOwnPropertyNames(t).forEach(function(n){e.append(n,t[n])})}function s(t){if(t.bodyUsed)return fetch.Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function a(t){return new fetch.Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function l(t){var e=new FileReader;return e.readAsArrayBuffer(t),a(e)}function c(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else{if(e)throw new Error("unsupported BodyInit type");this._bodyText=""}},t.blob?(this.blob=function(){var t=s(this);if(t)return t;if(this._bodyBlob)return fetch.Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return fetch.Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(l)},this.text=function(){var t,e,n=s(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,(e=new FileReader).readAsText(t),a(e);if(this._bodyFormData)throw new Error("could not read FormData body as text");return fetch.Promise.resolve(this._bodyText)}):this.text=function(){var t=s(this);return t||fetch.Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(function(t){return JSON.parse(t)})},this}function u(t,n){var i,r;if(n=n||{},this.url=t,this.credentials=n.credentials||"omit",this.headers=new o(n.headers),this.method=(i=n.method||"GET",r=i.toUpperCase(),e.indexOf(r)>-1?r:i),this.mode=n.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n.body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n.body)}function d(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}}),e}function f(t,e){e||(e={}),this._initBody(t),this.type="default",this.url=null,this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof o?e.headers:new o(e.headers),this.url=e.url||""}}();var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function e(){}function n(t){for(var e,n,i=1,r=arguments.length;i<r;i++)for(e in n=arguments[i])t[e]=n[e];return t}function i(t,e){e.appendChild(t)}function r(t,e,n){e.insertBefore(t,n)}function o(t){t.parentNode.removeChild(t)}function s(t){return document.createElement(t)}function a(t){return document.createTextNode(t)}function l(){return Object.create(null)}function c(t){this.destroy=e,this.fire("destroy"),this.set=this.get=e,!1!==t&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function u(t,e,n,i,r){for(var o in e)if(n[o]){var s=i[o],a=r[o],l=e[o];if(l)for(var c=0;c<l.length;c+=1){var u=l[c];u.__calling||(u.__calling=!0,u.call(t,s,a),u.__calling=!1)}}}function d(t,e){t._observers={pre:l(),post:l()},t._handlers=l(),t._bind=e._bind,t.options=e,t.root=e.root||t,t.store=t.root.store||e.store}function f(t){for(;t&&t.length;)t.shift()()}var h={destroy:c,get:function(t){return t?this._state[t]:this._state},fire:function(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var i=0;i<n.length;i+=1)n[i].call(this,e)},observe:function(t,e,n){var i=n&&n.defer?this._observers.post:this._observers.pre;return(i[t]||(i[t]=[])).push(e),n&&!1===n.init||(e.__calling=!0,e.call(this,this._state[t]),e.__calling=!1),{cancel:function(){var n=i[t].indexOf(e);~n&&i[t].splice(n,1)}}},on:function(t,e){if("teardown"===t)return this.on("destroy",e);var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}},set:function(t){this._set(n({},t)),this.root._lock||(this.root._lock=!0,f(this.root._beforecreate),f(this.root._oncreate),f(this.root._aftercreate),this.root._lock=!1)},teardown:c,_recompute:e,_set:function(t){var e=this._state,i={},r=!1;for(var o in t)this._differs(t[o],e[o])&&(i[o]=r=!0);r&&(this._state=n({},e,t),this._recompute(i,this._state),this._bind&&this._bind(i,this._state),this._fragment&&(u(this,this._observers.pre,i,this._state,e),this._fragment.p(i,this._state),u(this,this._observers.post,i,this._state,e)))},_mount:function(t,e){this._fragment.m(t,e)},_unmount:function(){this._fragment&&this._fragment.u()},_differs:function(e,n){return e!=e?n==n:e!==n||e&&"object"===(void 0===e?"undefined":t(e))||"function"==typeof e}};function p(t,n){var i,a;return{c:function(){i=s("img"),this.h()},h:function(){i.src=t.favicon,i.alt=a=t.site_name?t.site_name:t.site_url,i.width="16",i.height="16",i.className="favicon"},m:function(t,e){r(i,t,e)},p:function(t,e){t.favicon&&(i.src=e.favicon),(t.site_name||t.site_url)&&a!==(a=e.site_name?e.site_name:e.site_url)&&(i.alt=a)},u:function(){o(i)},d:e}}function b(t,e){var n,l,c,u,d,f,h,b,m,v,g,y,_,w,A,x,k,E=t.site_name?t.site_name:t.site_url,T=""!==t.favicon&&p(t);return{c:function(){n=s("a"),l=s("div"),c=s("img"),u=a("\r\n    "),d=s("div"),f=s("div"),h=s("h4"),b=a(t.title),m=a("\r\n      "),v=s("div"),g=s("p"),y=a(t.description),_=a("\r\n      "),w=s("div"),T&&T.c(),A=a("\r\n        "),x=s("a"),k=a(E),this.h()},h:function(){c.src=t.image,c.alt=t.title,l.className="thumbnail",h.className="title",g.className="description",x.href=t.site_url,x.className="site_url",x.target="_brank",d.className="contents",n.className="container",n.href=t.url,n.target="_blank"},m:function(t,e){r(n,t,e),i(l,n),i(c,l),i(u,n),i(d,n),i(f,d),i(h,f),i(b,h),i(m,d),i(v,d),i(g,v),i(y,g),i(_,d),i(w,d),T&&T.m(w,null),i(A,w),i(x,w),i(k,x)},p:function(t,e){t.image&&(c.src=e.image),t.title&&(c.alt=e.title,b.data=e.title),t.description&&(y.data=e.description),""!==e.favicon?T?T.p(t,e):((T=p(e)).c(),T.m(w,A)):T&&(T.u(),T.d(),T=null),(t.site_name||t.site_url)&&E!==(E=e.site_name?e.site_name:e.site_url)&&(k.data=E),t.site_url&&(x.href=e.site_url),t.url&&(n.href=e.url)},u:function(){o(n),T&&T.u()},d:function(){T&&T.d()}}}function m(t,n){var i;return{c:function(){(i=s("div")).innerHTML='<div class="bounce1"></div>\r\n    <div class="bounce2"></div>\r\n    <div class="bounce3"></div>',this.h()},h:function(){i.className="spinner"},m:function(t,e){r(i,t,e)},p:e,u:function(){o(i)},d:e}}function v(t){return t.loaded?b:m}function g(t){var e,a,l,c,u,f,h;d(this,t),this._state=n({loaded:!1,type:"fb",float:"center",url:"",image:"",title:"",favicon:"",site_url:"",site_name:"",description:""},t.data),document.getElementById("svelte-2290066723-style")||((e=s("style")).id="svelte-2290066723-style",e.textContent='@charset "UTF-8";[svelte-2290066723].blog-card,[svelte-2290066723] .blog-card{font-size:calc(12px + (16 - 12) * ((100vw - 300px) / (1600 - 300)));min-width:300px;max-width:600px;height:150px;margin:20px 0;display:block;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif}[svelte-2290066723].blog-card img,[svelte-2290066723] .blog-card img,[svelte-2290066723].blog-card a,[svelte-2290066723] .blog-card a,[svelte-2290066723].blog-card p,[svelte-2290066723] .blog-card p{margin:0;padding:0;line-height:1.3em}[svelte-2290066723].blog-card a,[svelte-2290066723] .blog-card a,[svelte-2290066723].blog-card a:visited,[svelte-2290066723] .blog-card a:visited{box-shadow:none;text-decoration:none}[svelte-2290066723].blog-card a,[svelte-2290066723] .blog-card a{outline:none;color:#000000}[svelte-2290066723].container,[svelte-2290066723] .container{display:flex;justify-content:space-between}[svelte-2290066723].thumbnail,[svelte-2290066723] .thumbnail{flex-shrink:0}[svelte-2290066723].thumbnail img,[svelte-2290066723] .thumbnail img{display:block;object-fit:cover}[svelte-2290066723].contents,[svelte-2290066723] .contents{width:100%;flex-basis:auto;display:flex;flex-direction:column;padding:10px}[svelte-2290066723].contents > div:last-child,[svelte-2290066723] .contents > div:last-child{margin-top:auto}[svelte-2290066723].title,[svelte-2290066723] .title{color:#111111;font-size:1em;font-weight:bold;margin:0}p[svelte-2290066723].description,[svelte-2290066723] p.description{padding:5px 0;line-height:1.5;font-size:0.8em}img[svelte-2290066723].favicon,[svelte-2290066723] img.favicon{float:left;margin:2px 3px 0 0}a[svelte-2290066723].site_url,[svelte-2290066723] a.site_url{color:#555555;font-size:0.8em}[svelte-2290066723].spinner,[svelte-2290066723] .spinner{margin:0 auto;padding:65px 0 0;width:50px;text-align:center}[svelte-2290066723].spinner > div,[svelte-2290066723] .spinner > div{width:10px;height:10px;background-color:#999999;border-radius:100%;display:inline-block;-webkit-animation:sk-bouncedelay 1.4s infinite ease-in-out both;animation:svelte-2290066723-sk-bouncedelay 1.4s infinite ease-in-out both}[svelte-2290066723].spinner > .bounce1,[svelte-2290066723] .spinner > .bounce1{-webkit-animation-delay:-0.32s;animation-delay:-0.32s}[svelte-2290066723].spinner > .bounce2,[svelte-2290066723] .spinner > .bounce2{-webkit-animation-delay:-0.16s;animation-delay:-0.16s}@-webkit-keyframes sk-bouncedelay {[svelte-2290066723]0%,[svelte-2290066723] 0%,[svelte-2290066723]80%,[svelte-2290066723] 80%,[svelte-2290066723]100%,[svelte-2290066723] 100%{-webkit-transform:scale(0)}[svelte-2290066723]40%,[svelte-2290066723] 40%{-webkit-transform:scale(1)}}@keyframes svelte-2290066723-sk-bouncedelay{0%,80%,100%{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}[svelte-2290066723].blog-card.fb,[svelte-2290066723] .blog-card.fb{font-family:Roboto, Helvetica, Arial, "hiragino kaku gothic pro",meiryo,"ms pgothic",sans-serif;box-shadow:0 0 0 1.5px rgba(0, 0, 0, 0.15) inset, 0 1px 1px rgba(0, 0, 0, 0.05)}[svelte-2290066723].blog-card.fb:hover,[svelte-2290066723] .blog-card.fb:hover{box-shadow:0 0 0 1.5px rgba(0, 0, 0, 0.25) inset, 0 1px 1px rgba(0, 0, 0, 0.15)}[svelte-2290066723].blog-card.fb .title,[svelte-2290066723] .blog-card.fb .title{font-family:Georgia,游明朝,"Yu Mincho",YuMincho,"Hiragino Mincho ProN",HGS明朝E,メイリオ,Meiryo,serif}[svelte-2290066723].blog-card.fb .thumbnail img,[svelte-2290066723] .blog-card.fb .thumbnail img{width:148px;height:148px}[svelte-2290066723].blog-card.fb a.site_url,[svelte-2290066723] .blog-card.fb a.site_url{color:#90949c}[svelte-2290066723].blog-card.tw,[svelte-2290066723] .blog-card.tw{border:solid 1px #E1E8ED;border-radius:.42857em;transition:background-color .15s ease-in-out, border-color .15s ease-in-out}[svelte-2290066723].blog-card.tw:hover,[svelte-2290066723] .blog-card.tw:hover{background:#F5F8FA;border-color:#8899A6;border-color:rgba(136, 153, 166, 0.5)}[svelte-2290066723].blog-card.tw a,[svelte-2290066723] .blog-card.tw a{color:#292F33}[svelte-2290066723].blog-card.tw .thumbnail img,[svelte-2290066723] .blog-card.tw .thumbnail img{border-radius:.42857em 0 0 .42857em;width:148px;height:148px}[svelte-2290066723].blog-card.tw a.site_url,[svelte-2290066723] .blog-card.tw a.site_url{color:#8899A6}[svelte-2290066723].blog-card.hatena,[svelte-2290066723] .blog-card.hatena{border:1px solid rgba(0, 0, 0, 0.1);border-radius:3px;padding:10px}[svelte-2290066723].blog-card.hatena .thumbnail img,[svelte-2290066723] .blog-card.hatena .thumbnail img{width:128px;height:128px}[svelte-2290066723].blog-card.hatena .contents,[svelte-2290066723] .blog-card.hatena .contents{order:-1;padding:0 10px 0 0}[svelte-2290066723].blog-card.hatena .spinner,[svelte-2290066723] .blog-card.hatena .spinner{padding:55px 0 0;width:50px;text-align:center}',i(e,document.head)),this._fragment=(a=this._state,l=this,f=v(a),h=f(a,l),{c:function(){c=s("div"),h.c(),this.h()},h:function(){(function(t,e,n){t.setAttribute(e,n)})(c,"svelte-2290066723",""),c.className=u="blog-card "+a.type},m:function(t,e){r(c,t,e),h.m(c,null)},p:function(t,e){f===(f=v(e))&&h?h.p(t,e):(h.u(),h.d(),(h=f(e,l)).c(),h.m(c,null)),t.type&&u!==(u="blog-card "+e.type)&&(c.className=u)},u:function(){o(c),h.u()},d:function(){h.d()}}),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null))}function y(t){var l,c,u,f;d(this,t),this._state=n({url:""},t.data),this._fragment=(l=this._state,{c:function(){c=s("a"),u=a(l.url),f=s("br"),this.h()},h:function(){c.href=l.url,c.target="_blank"},m:function(t,e){r(c,t,e),i(u,c),r(f,t,e)},p:function(t,e){t.url&&(u.data=e.url,c.href=e.url)},u:function(){o(c),o(f)},d:e}),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null))}n(g.prototype,h),n(y.prototype,h);var _=new Map;_.set("fb","Facebook"),_.set("tw","Twitter"),_.set("hatena","はてな");var w=document.getElementsByTagName("blog-card"),A=Array.from(_.keys());Object.keys(w).forEach(function(t){var e=w[t].getAttribute("href"),n=w[t].dataset.type;A.includes(n)||(n="fb");var i=new g({target:w[t],data:{url:e,type:n}});fetch(location.origin+"/wp-json/v1/kkblogcard",{method:"POST",body:JSON.stringify({url:e}),headers:new Headers({"Content-Type":"application/json"})}).then(function(t){if(!t.ok)throw Error(t.statusText);return t.json()}).then(function(t){i.set({loaded:!0,title:t.title?t.title:"",image:t.image?t.image:x,description:t.description?t.description:"",favicon:t.favicon?t.favicon:"",site_url:t.site_url?t.site_url:"",site_name:t.site_name?t.site_name:""})}).catch(function(n){console.log("parsing failed",n),i.destroy(),new y({target:w[t],data:{url:e}})})});var x="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAAAAAAZai4+AAAACXBIWXMAABJ0AAASdAHeZh94AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTAyLTE4VDIyOjMzOjIxKzA5OjAwKYbElQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0wMi0xOFQyMjozMzoyMSswOTowMFjbfCkAAATJSURBVHgB7ZpZU9tIFIWvrMU7xg77kmHKrOFlqvL//0HyNJNiANuQiWEIGK8ISZZsp7s1xkbu61FXGIqpuv1gqU+fvt18Omr7Ae0TvMWWeIubAqBtqTwXokW0VAioeClbREuFgIqXskW0VAioeClbREuFgIqXskW0VAioeClbREuFgIqXskW0VAioeClbREuFgIqXskW0VAioeClbREuFgIqXskW0VAioeClbREuFgIqXskW0VAioeClbREuFgIqXskW0VAioeA0V83Ov+wU+PldervdGI/8TtPSVl6MTrfQT2zK3o8Verv9/e4if4aN/0/bN7HqaQxjctl2wCqvmhMg/kWdG+9oepdaK0LhztfRaQVjshuMNrcxyTvQGN23PWNgYhm/J8LbpJVJLJW1SLHI35yG6Z74G/X77MAPgnXtsous2dsNlnlVpXYz04WNtp9sEffBQKS+y0bu/uMV1mzvv+PXMB/Dv279wEYIzB2D48HC3i66ODgDUEgdZ6F4M6vswqnr61oL28M2vHs/OuCxtGU6lfwlra7pd69+wbfl1KGykRs7VQ51ta1jxze3cqPftUmzrwsluZoL2tV05FH3Jx5xs9Q9zmlbYBBug5WgHS5ZZPDKCu9ki2R0D0hsAS5s6ZNeBoQB7aJQzCT33KwR9gIanHxVN693BiE/udbMHeT25ugd2a7ZYqMzZ1orgkoUhQAdKImHmCrRnKy1ziY2LAyPD/ZDZ2xXBYSVYtwlhJtMl7mzChhjLlWTFuGPu/51mJwYPFkQHCsAzFmkp3md/3/jKetYCn+23L/gQmxO+BmEVD1JD0TL8QcjbbFKefNbTHbiQDDsWDIKZKeMXanzl1lGrw97EcFIQTKYzxYPfQ5293+Ob6HVmjYlhepWxyjSRj3Efu/rnDpj5VCr/B3NMFhclg8mkychEE3dztjXlTD564SP1IDF1ck05Ird1J7nzdJSwNTx2yLAmEmC5v+kR+0x3TuSnvEnohr1uGKCpIfltF96LXQkcemo8vcfdSZYJ0R5baLbibasATf7ag/99HN6w8JzPMAK3wlGE7+w4ZafqPf/Mw5UInX9eE0W5Fm3xtlVKj04bfb91ErAjIk7LQN2FkVO9ZnthJ4cZnLT8/v2fOrDdLpm9s04QtE4Dq4jVipctrXzW/8pLGOV4E7ZOHr/ow1HifeOxulg2dmtejc22tqtsul4+tyu8mLmHZizeKpD8cNvyIl/VvDLW0h+ubd/Mb1ipr+yLFTJHNz3HWFx3gK+XPb7p9A2ruIw/Ku0TVvm/0Fu1/H6sujFpxaqFmq46S2EkezB1RqN2NoBznDdLccxy7sJ3rxn3RX6VbS0a7mnHd+9PByn+WyxGe51sdavh16OxL36I/Pu+XiVbsHD8t+1pycIqeiJEdvo62wIr/LkcWRzvvkq28OWxEdoWRkamEy0ZFUwjWhgZmU60ZFQwjWhhZGQ60ZJRwTSihZGR6URLRgXTiBZGRqYTLRkVTCNaGBmZTrRkVDCNaGFkZDrRklHBNKKFkZHpREtGBdOIFkZGphMtGRVMI1oYGZlOtGRUMI1oYWRkOtGSUcE0ooWRkelES0YF04gWRkamEy0ZFUwjWhgZmU60ZFQwjWhhZGT6G6X1A5rBL681kx5LAAAAAElFTkSuQmCC",k="bfred-it:object-fit-images",E="undefined"==typeof Image?{style:{"object-position":1}}:new Image,T="object-position"in E.style,R=E.getAttribute,F=E.setAttribute;!function(){function t(t,e){return t[k]&&t[k].img&&("src"===e||"srcset"===e)?t[k].img:t}T||(HTMLImageElement.prototype.getAttribute=function(e){return R.call(t(this,e),e)},HTMLImageElement.prototype.setAttribute=function(e,n){return F.call(t(this,e),e,String(n))})}()}();
