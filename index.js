!function(){"use strict";!function(){if(!self.fetch){r.prototype.append=function(t,e){t=i(t),e=o(e);var n=this.map[t];n||(n=[],this.map[t]=n),n.push(e)},r.prototype.delete=function(t){delete this.map[i(t)]},r.prototype.get=function(t){var e=this.map[i(t)];return e?e[0]:null},r.prototype.getAll=function(t){return this.map[i(t)]||[]},r.prototype.has=function(t){return this.map.hasOwnProperty(i(t))},r.prototype.set=function(t,e){this.map[i(t)]=[o(e)]},r.prototype.forEach=function(t){var e=this;Object.getOwnPropertyNames(this.map).forEach(function(n){t(n,e.map[n])})};var t={blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self},e=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],n=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent);c.call(u.prototype),c.call(d.prototype),self.Headers=r,self.Request=u,self.Response=d,self.fetch=function(e,i){var o;return o=u.prototype.isPrototypeOf(e)&&!i?e:new u(e,i),new fetch.Promise(function(e,i){var s=function(){return n&&!/^(get|post|head|put|delete|options)$/i.test(this.method)?(this.usingActiveXhr=!0,new ActiveXObject("Microsoft.XMLHTTP")):new XMLHttpRequest}();function a(){if(4===s.readyState){var t=1223===s.status?204:s.status;if(t<100||t>599)i(new TypeError("Network request failed"));else{var n={status:t,statusText:s.statusText,headers:function(t){var e=new r;return t.getAllResponseHeaders().trim().split("\n").forEach(function(t){var n=t.trim().split(":"),i=n.shift().trim(),o=n.join(":").trim();e.append(i,o)}),e}(s),url:"responseURL"in s?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):void 0},o="response"in s?s.response:s.responseText;e(new d(o,n))}}}"cors"===o.credentials&&(s.withCredentials=!0),s.onreadystatechange=a,self.usingActiveXhr||(s.onload=a,s.onerror=function(){i(new TypeError("Network request failed"))}),s.open(o.method,o.url,!0),"responseType"in s&&t.blob&&(s.responseType="blob"),o.headers.forEach(function(t,e){e.forEach(function(e){s.setRequestHeader(t,e)})}),s.send(void 0===o._bodyInit?null:o._bodyInit)})},fetch.Promise=self.Promise,self.fetch.polyfill=!0}function i(t){if("string"!=typeof t&&(t=t.toString()),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function o(t){return"string"!=typeof t&&(t=t.toString()),t}function r(t){this.map={};var e=this;t instanceof r?t.forEach(function(t,n){n.forEach(function(n){e.append(t,n)})}):t&&Object.getOwnPropertyNames(t).forEach(function(n){e.append(n,t[n])})}function s(t){if(t.bodyUsed)return fetch.Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function a(t){return new fetch.Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function l(t){var e=new FileReader;return e.readAsArrayBuffer(t),a(e)}function c(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else{if(e)throw new Error("unsupported BodyInit type");this._bodyText=""}},t.blob?(this.blob=function(){var t=s(this);if(t)return t;if(this._bodyBlob)return fetch.Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return fetch.Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(l)},this.text=function(){var t,e,n=s(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,(e=new FileReader).readAsText(t),a(e);if(this._bodyFormData)throw new Error("could not read FormData body as text");return fetch.Promise.resolve(this._bodyText)}):this.text=function(){var t=s(this);return t||fetch.Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(function(t){return JSON.parse(t)})},this}function u(t,n){var i,o;if(n=n||{},this.url=t,this.credentials=n.credentials||"omit",this.headers=new r(n.headers),this.method=(i=n.method||"GET",o=i.toUpperCase(),e.indexOf(o)>-1?o:i),this.mode=n.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n.body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n.body)}function f(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(o))}}),e}function d(t,e){e||(e={}),this._initBody(t),this.type="default",this.url=null,this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof r?e.headers:new r(e.headers),this.url=e.url||""}}();var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function e(){}function n(t){for(var e,n,i=1,o=arguments.length;i<o;i++)for(e in n=arguments[i])t[e]=n[e];return t}function i(t,e){e.appendChild(t)}function o(t,e,n){e.insertBefore(t,n)}function r(t){t.parentNode.removeChild(t)}function s(t){return document.createElement(t)}function a(t){return document.createTextNode(t)}function l(){return Object.create(null)}function c(t){this.destroy=e,this.fire("destroy"),this.set=this.get=e,!1!==t&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function u(t,e,n,i,o){for(var r in e)if(n[r]){var s=i[r],a=o[r],l=e[r];if(l)for(var c=0;c<l.length;c+=1){var u=l[c];u.__calling||(u.__calling=!0,u.call(t,s,a),u.__calling=!1)}}}function f(t){for(;t&&t.length;)t.shift()()}var d={destroy:c,get:function(t){return t?this._state[t]:this._state},fire:function(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var i=0;i<n.length;i+=1)n[i].call(this,e)},observe:function(t,e,n){var i=n&&n.defer?this._observers.post:this._observers.pre;return(i[t]||(i[t]=[])).push(e),n&&!1===n.init||(e.__calling=!0,e.call(this,this._state[t]),e.__calling=!1),{cancel:function(){var n=i[t].indexOf(e);~n&&i[t].splice(n,1)}}},on:function(t,e){if("teardown"===t)return this.on("destroy",e);var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}},set:function(t){this._set(n({},t)),this.root._lock||(this.root._lock=!0,f(this.root._beforecreate),f(this.root._oncreate),f(this.root._aftercreate),this.root._lock=!1)},teardown:c,_recompute:e,_set:function(t){var e=this._state,i={},o=!1;for(var r in t)this._differs(t[r],e[r])&&(i[r]=o=!0);o&&(this._state=n({},e,t),this._recompute(i,this._state),this._bind&&this._bind(i,this._state),this._fragment&&(u(this,this._observers.pre,i,this._state,e),this._fragment.p(i,this._state),u(this,this._observers.post,i,this._state,e)))},_mount:function(t,e){this._fragment.m(t,e)},_unmount:function(){this._fragment&&this._fragment.u()},_differs:function(e,n){return e!=e?n==n:e!==n||e&&"object"===(void 0===e?"undefined":t(e))||"function"==typeof e}};function h(t,n){var i,a;return{c:function(){i=s("img"),this.h()},h:function(){i.src=t.favicon,i.alt=a=t.site_name?t.site_name:t.site_url,i.width="16",i.height="16",i.className="favicon"},m:function(t,e){o(i,t,e)},p:function(t,e){t.favicon&&(i.src=e.favicon),(t.site_name||t.site_url)&&a!==(a=e.site_name?e.site_name:e.site_url)&&(i.alt=a)},u:function(){r(i)},d:e}}function p(t,e){var n,l,c,u,f,d,p,m,v,b,g,y,_,w,x,E,T,k,A=t.site_name?t.site_name:t.site_url,R=""!==t.favicon&&h(t);return{c:function(){n=s("div"),l=s("div"),c=s("a"),u=s("img"),f=a("\r\n    "),d=s("div"),p=s("div"),m=s("a"),v=a(t.title),b=a("\r\n      "),g=s("div"),y=s("p"),_=a(t.description),w=a("\r\n      "),x=s("div"),R&&R.c(),E=a("\r\n        "),T=s("a"),k=a(A),this.h()},h:function(){u.src=t.image,u.alt=t.title,c.href=t.url,c.target="_brank",l.className="thumbnail",m.href=t.url,m.className="title",m.target="_brank",y.className="description",T.href=t.site_url,T.className="site_url",T.target="_brank",d.className="contents",n.className="container"},m:function(t,e){o(n,t,e),i(l,n),i(c,l),i(u,c),i(f,n),i(d,n),i(p,d),i(m,p),i(v,m),i(b,d),i(g,d),i(y,g),i(_,y),i(w,d),i(x,d),R&&R.m(x,null),i(E,x),i(T,x),i(k,T)},p:function(t,e){t.image&&(u.src=e.image),t.title&&(u.alt=e.title),t.url&&(c.href=e.url),t.title&&(v.data=e.title),t.url&&(m.href=e.url),t.description&&(_.data=e.description),""!==e.favicon?R?R.p(t,e):((R=h(e)).c(),R.m(x,E)):R&&(R.u(),R.d(),R=null),(t.site_name||t.site_url)&&A!==(A=e.site_name?e.site_name:e.site_url)&&(k.data=A),t.site_url&&(T.href=e.site_url)},u:function(){r(n),R&&R.u()},d:function(){R&&R.d()}}}function m(t,n){var i;return{c:function(){(i=s("div")).innerHTML='<div class="bounce1"></div>\r\n    <div class="bounce2"></div>\r\n    <div class="bounce3"></div>',this.h()},h:function(){i.className="spinner"},m:function(t,e){o(i,t,e)},p:e,u:function(){r(i)},d:e}}function v(t){return t.loaded?p:m}function b(t){var e,a,c,u,f,d,h;!function(t,e){t._observers={pre:l(),post:l()},t._handlers=l(),t._bind=e._bind,t.options=e,t.root=e.root||t,t.store=t.root.store||e.store}(this,t),this._state=n({loaded:!1,type:"fb",float:"center",url:"",image:"",title:"",favicon:"",site_url:"",site_name:"",description:""},t.data),document.getElementById("svelte-2179189369-style")||((e=s("style")).id="svelte-2179189369-style",e.textContent="[svelte-2179189369].blog-card,[svelte-2179189369] .blog-card{font-size:calc(12px + (16 - 12) * ((100vw - 300px) / (1600 - 300)));min-width:300px;max-width:600px;height:150px;margin:20px 0;display:block}[svelte-2179189369].blog-card img,[svelte-2179189369] .blog-card img,[svelte-2179189369].blog-card a,[svelte-2179189369] .blog-card a,[svelte-2179189369].blog-card p,[svelte-2179189369] .blog-card p{margin:0;padding:0;line-height:1}[svelte-2179189369].blog-card a,[svelte-2179189369] .blog-card a,[svelte-2179189369].blog-card a:visited,[svelte-2179189369] .blog-card a:visited{box-shadow:none;text-decoration:none}[svelte-2179189369].blog-card.fb,[svelte-2179189369] .blog-card.fb{box-shadow:1px 1px 5px #eeeeee}[svelte-2179189369].container,[svelte-2179189369] .container{display:flex}[svelte-2179189369].thumbnail,[svelte-2179189369] .thumbnail{flex:1}[svelte-2179189369].thumbnail a,[svelte-2179189369] .thumbnail a,[svelte-2179189369].thumbnail img,[svelte-2179189369] .thumbnail img{width:150px;height:150px;display:block}[svelte-2179189369].thumbnail img,[svelte-2179189369] .thumbnail img{object-fit:cover}[svelte-2179189369].contents,[svelte-2179189369] .contents{flex:2;flex-basis:auto;display:flex;flex-direction:column;padding:10px}[svelte-2179189369].contents > div:last-child,[svelte-2179189369] .contents > div:last-child{margin-top:auto}a[svelte-2179189369].title,[svelte-2179189369] a.title{color:#111111;font-size:1em;font-weight:bold}a[svelte-2179189369].title:hover,[svelte-2179189369] a.title:hover{text-decoration:underline}p[svelte-2179189369].description,[svelte-2179189369] p.description{padding:5px 0;line-height:1.5;font-size:0.8em}a[svelte-2179189369].site_url,[svelte-2179189369] a.site_url{color:#555555;font-size:0.7em}[svelte-2179189369].spinner,[svelte-2179189369] .spinner{margin:0 auto;padding:65px 0 0;width:50px;text-align:center}[svelte-2179189369].spinner > div,[svelte-2179189369] .spinner > div{width:10px;height:10px;background-color:#999999;border-radius:100%;display:inline-block;-webkit-animation:sk-bouncedelay 1.4s infinite ease-in-out both;animation:svelte-2179189369-sk-bouncedelay 1.4s infinite ease-in-out both}[svelte-2179189369].spinner > .bounce1,[svelte-2179189369] .spinner > .bounce1{-webkit-animation-delay:-0.32s;animation-delay:-0.32s}[svelte-2179189369].spinner > .bounce2,[svelte-2179189369] .spinner > .bounce2{-webkit-animation-delay:-0.16s;animation-delay:-0.16s}@-webkit-keyframes sk-bouncedelay {[svelte-2179189369]0%,[svelte-2179189369] 0%,[svelte-2179189369]80%,[svelte-2179189369] 80%,[svelte-2179189369]100%,[svelte-2179189369] 100%{-webkit-transform:scale(0)}[svelte-2179189369]40%,[svelte-2179189369] 40%{-webkit-transform:scale(1)}}@keyframes svelte-2179189369-sk-bouncedelay{0%,80%,100%{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}",i(e,document.head)),this._fragment=(a=this._state,c=this,d=v(a),h=d(a,c),{c:function(){u=s("div"),h.c(),this.h()},h:function(){(function(t,e,n){t.setAttribute(e,n)})(u,"svelte-2179189369",""),u.className=f="blog-card "+a.type},m:function(t,e){o(u,t,e),h.m(u,null)},p:function(t,e){d===(d=v(e))&&h?h.p(t,e):(h.u(),h.d(),(h=d(e,c)).c(),h.m(u,null)),t.type&&f!==(f="blog-card "+e.type)&&(u.className=f)},u:function(){r(u),h.u()},d:function(){h.d()}}),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null))}n(b.prototype,d);var g=document.getElementsByTagName("blog-card");Object.keys(g).forEach(function(t){var e=g[t].getAttribute("href"),n=new b({target:g[t],data:{url:e}});fetch(location.origin+"/wp-json/v1/kkblogcard?url="+e).then(function(t){return t.json()}).then(function(t){console.log(t),n.set({loaded:!0,title:t.title?t.title:"",image:t.image?t.image:location.origin+"/wp-content/plugins/kk-blog-card/noimage.png",description:t.description?t.description:"",favicon:t.favicon?t.favicon:"",site_url:t.site_url?t.site_url:"",site_name:t.site_name?t.site_name:""})}).catch(function(t){console.log("parsing failed",t),n.destroy()})});var y="bfred-it:object-fit-images",_="undefined"==typeof Image?{style:{"object-position":1}}:new Image,w="object-position"in _.style,x=_.getAttribute,E=_.setAttribute;!function(){function t(t,e){return t[y]&&t[y].img&&("src"===e||"srcset"===e)?t[y].img:t}w||(HTMLImageElement.prototype.getAttribute=function(e){return x.call(t(this,e),e)},HTMLImageElement.prototype.setAttribute=function(e,n){return E.call(t(this,e),e,String(n))})}()}();
